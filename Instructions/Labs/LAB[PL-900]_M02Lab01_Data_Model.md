---
lab:
  title: "Задание\_1. Моделирование данных"
  module: 'Module 2: Introduction to Microsoft Dataverse'
---

# Задание 1. Моделирование данных

**Клиенты WWL — условия использования** Если вам предоставляется клиент в рамках обучения под руководством инструктора, обратите внимание, что клиент предоставляется для поддержки практических лабораторий в обучении под руководством инструктора. Клиенты не должны совместно использоваться или использоваться для целей за пределами практических лабораторий. Клиент, используемый в этом курсе, является клиентом пробной версии и не может быть использован или доступен после окончания класса и не имеет права на расширение. Клиенты не должны быть преобразованы в платную подписку. Клиенты, полученные в рамках этого курса, остаются собственностью корпорации Майкрософт, и мы оставляем за собой право получить доступ и репозитории в любое время. 

## Сценарий

Bellows College — образовательное учреждение, имеющее на территории своего кампуса несколько зданий. Сейчас для регистрации посетителей кампуса используются бумажные журналы. Информация собирается несогласованно, отсутствуют средства сбора и анализа данных о визитах по всему кампусу.

Администрация кампуса хотела бы модернизировать систему регистрации посетителей таким образом, чтобы допуск в здания контролировали сотрудники службы безопасности, а обитатели кампуса предварительно регистрировали все визиты и обязательно записывали их.

В этом курсе обучения вы разработаете приложения и реализуете автоматические процедуры, позволяющие администрации и службе охраны Bellows College контролировать доступ в здания кампуса.

В этом задании вы создадите модель данных для поддержки следующих требований:

- R1 — отслеживание сведений о запланированных посещениях кампуса.

- R2 — запись основных сведений для идентификации и отслеживания посетителей.

- R3 — планирование, запись посещений и управление ими.

В конце работы вы импортируете образец данных в Microsoft Dataverse.

Обзор этапов работы над общим заданием

Для подготовки учебных сред необходимо выполнить следующее:

- Описание метаданных (таблицы и связи) можно найти в [документе с описанием модели данных](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/blob/master/Allfiles/Campus%20Management.png). Удерживая нажатой клавишу CTRL+ левой кнопкой мыши или щелкните ссылку правой кнопкой мыши, чтобы открыть документ модели данных в новом окне.
- Создание таблицы визитов
- Импорт данных посещения с помощью электронной таблицы Excel


## Предварительные требования

- Выполнить **задание 0 модуля 0 «Проверка лабораторной среды»** .

Что необходимо знать перед началом работы?

- Соглашения об именовании — имена следует вводить внимательно.

Упражнение 1. Создание таблицы

**Задача:** В этом упражнении вы создадите пользовательскую таблицу визитов.

Задача 1. Создание таблицы и столбцов посещения

В таблицу **Визит** будет заноситься информация о посещениях кампуса, в том числе информация о посетителе, планируемое и фактическое время каждого визита.

Каждому визиту желательно присвоить уникальный номер, чтобы посетитель мог просто ввести его и назвать по требованию при регистрации визита.

1.  Если вы еще не вошли в систему, войдите в <https://make.powerapps.com> 

1.  В меню **Среда** в правом верхнем углу убедитесь, что выбрана среда **для практики** . 

1.  С помощью навигации слева выберите **Таблицы**.

1.  Выберите **+ Новая таблица** и **+ Новая таблица**. 

1.  В поле **Отображаемое имя** введите `Visit`

1.  Щелкните **Сохранить**. 

1.  В разделе **Схема** выберите **Столбцы**. 

# Создайте столбец для планируемого начала визита

1.  Выберите **+ Создать столбец**. 

1.  Введите в `Scheduled Start` поле **Отображаемое имя**. 

1.  Выберите **Дата и время** в поле **Тип данных**. 

1.  Измените значение **Требуется** на **Требуется для бизнеса**. 

1.  Разверните **Дополнительные параметры**. 

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**. 

    > **Примечание:** Мы используем **независимое от часового пояса** поведение для записи сведений о дате и времени, так как время посещения всегда зависит от расположения здания и не должно меняться при просмотре из другого часового пояса. 

1.  Щелкните **Сохранить**. 

# Создайте столбец для планируемого окончания визита

1.  Выберите **+ Создать столбец**. 

1.  Введите в `Scheduled End` поле **Отображаемое имя**.

1.  Выберите **Дата и время** в поле **Тип данных**.

1.  В поле **Обязательно** выберите **Требуется для бизнеса**.

1.  Разверните **Дополнительные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**.

1.  Щелкните **Сохранить**. 

# Создайте столбец для фактического начала визита

1.  Выберите **+ Создать столбец**. 

1.  Введите в `Actual Start` поле **Отображаемое имя**.

1.  В поле **Тип данных** выберите **Дата и время**.

1.  В поле **Обязательно** оставьте значение **Необязательно**.

1.  Разверните **Дополнительные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**. 

1.  Щелкните **Сохранить**. 

# Создайте столбец для фактического окончания визита

1.  Выберите **+ Создать столбец**.

1.  В поле **Отображаемое имя** введите **Фактическое окончание**.

1.  В поле **Тип данных** выберите **Дата и время**.

1.  В поле **Обязательно** оставьте значение **Необязательно**.

1.  Разверните **Дополнительные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**.

1.  Щелкните **Сохранить**.

# Создание столбца для кода

1.  Выберите **+ Создать столбец**.

1.  Введите в `Code` поле **Отображаемое имя**.

1.  В поле **Тип данных** выберите **Счетчик**.

1.  В поле **Тип счетчика** выберите **Номер с датой в качестве префикса**.

1.  Щелкните **Сохранить**. 

# Создание столбца подстановки «Посетитель»

1.  Выберите **+ Создать столбец**.

1.  Введите в `Visitor` поле **Отображаемое имя**.

1.  В поле **Тип данных** выберите **Подстановка**. 

1.  В поле **Связанная таблица** выберите **Контакт**. 

1.  Разверните **Дополнительные параметры**. 

1.  Введите в `visitor_id` поле **Имя связи**. 

1.  Щелкните **Сохранить**.


Упражнение 2. Импорт данных

**Цель упражнения.** В этом упражнении вы импортируете образец данных в базу Dataverse.

### Задача \#1. Загрузка файла Excel в OneDrive

1.  На виртуальной машине в расположении **C:/LabFiles** у вас должен быть файл **Visits.xlsx**. Скачайте файл [Visits.xlsx](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/raw/master/Allfiles/Visits.xlsx), если он отсутствует.

2.  Если вы еще не выполнили вход, войдите в [https://make.powerapps.com](https://make.powerapps.com/). 

3.  В правом верхнем углу экрана выберите свою среду **[ваши инициалы] практика** (если она еще не выбрана).

4.  Нажмите кнопку Вафель в левом верхнем углу, чтобы изменить приложения, и выберите **OneDrive**. (Настройка OneDrive может занять некоторое время. Щелкните **Вы можете приступить к работе с OneDrive**, когда увидите этот текст на экране.)

5.  В верхнем меню выберите **Отправить** , а затем **— Файлы**.

6.  Найдите и выберите файл **Visits.xlsx** и нажмите кнопку **Открыть**.

    > **Примечание.** Этот файл находится в папке **Все файлы** на компьютере.


### Задача \#2. Создание потока данных

1.  Если вы еще не вошли в систему, войдите в <https://make.powerapps.com> 

2.  В меню **Среда** в правом верхнем углу убедитесь, что выбрана среда **для практики** . 

3.  С помощью навигации слева выберите **Таблицы**. 

4.  Откройте таблицу **Visit,** созданную в предыдущем упражнении. 

5.  В меню вверху выберите **Импорт** > Импорт данных**.

6.  В диалоговом окне **Выбор источника данных** выберите **Книга Excel**.

7.  Выберите параметр **Связать с файлом**. Выберите **Обзор OneDrive**. При появлении запроса войдите с помощью учетных данных Microsoft 365. Настройте браузер так, чтобы он всегда разрешал всплывающие окна. 

8.  Выберите ** файлVisits.xlsx** , который был отправлен в OneDrive в предыдущей задаче. 

9.  Выберите **Далее**. 

10. В разделе **Выбор данных** установите флажок рядом с книгой Excel **Визиты**. 

11. Выберите **Далее**. Не уходите с этой страницы.

12. Выберите **Далее**. 

13. В разделе **Сопоставление таблиц** в разделе **Параметры загрузки** выберите **Загрузить в существующую таблицу**. 

14. В раскрывающемся меню **Целевая таблица** выберите **таблицу crXXX_Visit** (где XXX — случайный набор букв и цифр).

15. В разделе **Сопоставление столбцов**. Сопоставьте столбцы с соответствующими целевыми столбцами.

    | Целевые столбцы  | Исходные значения   |
    |:---------------------|:----------------|
    | crxxx_ActualEnd      | actual end      |
    | crxxx_ActualStart    | actual start    |
    | crxxx_Code           | code            |
    | crxxx_Name           | name            |
    | crxxx_ScheduledEnd   | scheduled end   |
    | crxxx_ScheduledStart | scheduled start |

16. Выберите **Далее**. 

17. Выберите **Обновить вручную**. 

18. Нажмите **Публиковать**. 

    > **Примечание**. Импорт данных в таблицу может занять несколько минут. Не беспокойтесь, если появится несколько ошибок, это нормально и не повлияет на остальную часть курса.


Задача 3. Проверка импорта данных

1.  После импорта данных используйте навигацию в левой части экрана, чтобы выбрать **Таблицы** и открыть таблицу **Визит** .

2.  Убедитесь, что в разделе **Столбцы и данные посещений** отображаются импортированные данные.

Поздравляем, вы успешно создали таблицу и импортировали данные.
