---
lab:
  title: Задание 1. Моделирование данных
  module: 'Module 2: Introduction to Microsoft Dataverse'
ms.openlocfilehash: 9e26f2eb6b2e6003510c25b5f66e4f43b30a0640
ms.sourcegitcommit: fc79a9b68a8235b37fd90ef84ba8ae1aa2e581f5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/30/2022
ms.locfileid: "144424694"
---
# <a name="module-2-introduction-to-microsoft-dataverse"></a>Модуль 2. Знакомство с Microsoft Dataverse

# <a name="scenario"></a>Сценарий

Bellows College — образовательное учреждение, имеющее на территории своего кампуса несколько зданий. Сейчас для регистрации посетителей кампуса используются бумажные журналы. Информация собирается несогласованно, отсутствуют средства сбора и анализа данных о визитах по всему кампусу.

Администрация кампуса хотела бы модернизировать систему регистрации посетителей таким образом, чтобы допуск в здания контролировали сотрудники службы безопасности, а обитатели кампуса предварительно регистрировали все визиты и обязательно записывали их.

В этом курсе обучения вы разработаете приложения и реализуете автоматические процедуры, позволяющие администрации и службе охраны Bellows College контролировать доступ в здания кампуса.

В этом задании вы войдете в свою среду, создадите базу данных Microsoft Dataverse и разработаете решение для отслеживания вносимых изменений. Кроме того, вы создадите модель данных, пригодную для выполнения следующих функций:

-   R1 — отслеживание мест (зданий), посещаемых в кампусе;

-   R2 — запись основной информации, позволяющей опознавать и отслеживать посетителей;

-   R3 — планирование, регистрация визитов и управление ими.

В конце работы вы импортируете образец данных в Microsoft Dataverse.

# <a name="high-level-lab-steps"></a>Обзор этапов работы над общим заданием

Для подготовки учебных сред необходимо выполнить следующее:

* создать решение и издателя;
* добавить новые и существующие компоненты, необходимые для выполнения требуемых функций приложения. Описание метаданных (таблицы и связи) можно найти в [документе с описанием модели данных](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/blob/master/Allfiles/Campus%20Management.png). Чтобы открыть этот документ в новом окне, щелкните ссылку, удерживая нажатой клавишу CTRL, либо щелкните ссылку правой кнопкой мыши.
* создать таблицы «Здание» и «Визит»;
* импортировать данные таблицы «Визит» с помощью электронной таблицы Excel.

## <a name="prerequisites"></a>Предварительные требования.

-   Выполнить **задание 0 модуля 0 «Проверка лабораторной среды»** .

## <a name="things-to-consider-before-you-begin"></a>Что необходимо учитывать перед началом работы?

-   Соглашения об именовании — имена следует вводить внимательно.

# <a name="exercise-1-create-new-table"></a>Упражнение \#1. Создание таблицы

**Задача:** В этом упражнении вы создадите пользовательскую таблицу «Визиты». 

## <a name="task--1-create-visit-table-and-columns"></a>Задача \# 1. Создание таблицы визитов со столбцами

В таблицу **Визит** будет заноситься информация о посещениях кампуса, в том числе информация о здании и посетителе, планируемое и фактическое время каждого визита.

Каждому визиту желательно присвоить уникальный номер, чтобы посетитель мог просто ввести его и назвать по требованию при регистрации визита.

>   При записи даты и времени мы будем использовать поведение **Независимо от часового пояса**, поскольку время визита всегда будет местным для данного здания и не будет меняться при просмотре из другого часового пояса.

1.  Войдите в <https://make.powerapps.com> (если это еще не сделано).

2.  В правом верхнем углу экрана выберите свою среду **[ваши инициалы] практика** (если она еще не выбрана).

3.  С помощью навигации слева разверните элемент Dataverse и выберите «Таблицы».

4.  Щелкните **Создать таблицу**.

5.  В поле **Отображаемое имя** введите **Визит**.

6.  Нажмите кнопку **Создать**. В результате запустится фоновый процесс подготовки таблицы, а вы сможете приступить к добавлению других столбцов.

7.  Создайте столбец для планируемого начала визита

    1.  Вы должны находиться на странице столбцов таблицы «Визит».

    2.  Выберите вкладку **Столбцы** и нажмите **Добавить столбец**.

    3.  В поле **Отображаемое имя** введите **Запланированное начало**.

    4.  В поле **Тип данных** выберите **Дата и время**.

    5.  В поле **Обязательно** выберите вариант **Обязательно**.

    6.  Разверните раздел **Расширенные параметры**.

    7.  В поле **Поведение** выберите **Независимо от часового пояса**.

    8.  Нажмите кнопку **Done**(Готово).

8.  Создайте столбец для планируемого окончания визита

    1.  Нажмите **Добавить столбец**.

    2.  В поле **Отображаемое имя** введите **Запланированное окончание**.

    3.  В поле **Тип данных** выберите **Дата и время**.

    4.  В поле **Обязательно** выберите вариант **Обязательно**.

    5.  Разверните раздел **Расширенные параметры**.

    6.  В поле **Поведение** выберите **Независимо от часового пояса**.

    7.  Нажмите кнопку **Done**(Готово).

9.  Создайте столбец для фактического начала визита

    1.  Нажмите **Добавить столбец**.

    2.  В поле **Отображаемое имя** введите **Фактическое начало**.

    3.  В поле **Тип данных** выберите **Дата и время**.

    4.  В поле **Обязательно** оставьте значение **Необязательно**.

    5.  Разверните раздел **Расширенные параметры**.

    6.  В поле **Поведение** выберите **Независимо от часового пояса**.

    7.  Нажмите кнопку **Done**(Готово).

10. Создайте столбец для фактического окончания визита

    1.  Нажмите **Добавить столбец**.

    2.  В поле **Отображаемое имя** введите **Фактическое окончание**.

    3.  В поле **Тип данных** выберите **Дата и время**.

    4.  В поле **Обязательно** оставьте значение **Необязательно**.

    5.  Разверните раздел **Расширенные параметры**.

    6.  В поле **Поведение** выберите **Независимо от часового пояса**.

    7.  Нажмите кнопку **Done**(Готово).

11. Создание столбца для кода

    1.  Нажмите **Добавить столбец**.

    2.  В поле **Отображаемое имя** введите **Код**.

    3.  В поле **Тип данных** выберите **Счетчик**.
    
    4.  В поле **Тип счетчика** выберите **Номер с датой в качестве префикса**.

    5.  Нажмите кнопку **Done**(Готово).

12. Создание столбца подстановки «Посетитель»

    1.  Нажмите **Добавить столбец**.

    2.  В поле **Отображаемое имя** введите **Посетитель**.

    3.  В поле **Тип данных** выберите **Подстановка**.

    4.  В поле **Связанная таблица** выберите **Контакт**.

    5.  Нажмите кнопку **Done**(Готово).

13. Нажмите **Сохранить таблицу**

# <a name="exercise-2-import-data"></a>Упражнение \#2. Импорт данных

**Цель упражнения.** В этом упражнении вы импортируете образец данных в базу Dataverse.

## <a name="task-1-import-the-visitsxls-file"></a>Задача \#1. Импорт файла Visits.xls

В этой задаче вы импортируете решение, содержащее поток Power Automate, необходимый для полного импорта данных.

1.  На вашем компьютере должен быть сохранен файл **Visits.xls**. Скачайте файл [Visits.xls](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/raw/majorupdate_april2022/Allfiles/Visits.xlsx), если он отсутствует.

2.  Если вы еще не выполнили вход, войдите в <https://make.powerapps.com>.

3.  В правом верхнем углу экрана выберите свою среду **[ваши инициалы] практика** (если она еще не выбрана).

4.  С помощью навигации слева разверните элемент **Dataverse** и выберите «Таблицы».

5.  Найдите и откройте таблицу **Визит**, созданную в предыдущем упражнении.

6.  В меню в верхней части щелкните стрелку раскрывающегося списка рядом с пунктом **Данные**, щелкните стрелку рядом с пунктом **Получить данные**, а затем выберите **Получить данные из Excel**.

7.  В появившемся меню выберите **Получить данные**, а затем выберите **Получить данные из Excel**.

8.  В появившемся меню нажмите кнопку **Отправить**.

9.  Найдите и выберите файл **Visits.xls**, скачанный ранее. *(Примечание. Отправка файла может занять одну или две минуты. Не беспокойтесь, если появится сообщение о наличии ошибок сопоставления, мы исправим их позже.)*

10. Выберите **Сопоставить столбцы**.

11. Сопоставьте столбцы, как указано ниже:

    | Столбцы базы данных «Визит» | Исходные значения   |
    |------------------|-----------------|
    | Фактическое окончание       | Фактическое окончание      |
    | Фактическое начало     | Фактическое начало    |
    | Код             | Код            |
    | Имя             | Имя            |
    | «Планируемое окончание».    | Запланированное окончание   |
    | Scheduled Start  | Запланированное начало |

12. Оставьте все остальные поля со значением **Не задано**.

13. В правом верхнем углу экрана нажмите кнопку **Сохранить изменения**.

14. На экране **Импорт данных** убедитесь, что состояние сопоставления указано как выполненное, и нажмите кнопку **Импорт**.

**Примечание**. *Импорт данных в таблицу может занять несколько минут. Не беспокойтесь, если вы получите несколько ошибок, это нормально, и не повлияет на остальную часть курса.*

## <a name="task-2-verify-data-import"></a>Задача \#2. Проверка импорта данных

1.  После импорта данных используйте навигацию в левой части экрана, чтобы снова выбрать таблицу **Визит**.

2.  В верхней части выберите вкладку «Данные».

3.  Убедитесь, что в таблице есть записи.

Поздравляем, вы успешно создали таблицы и импортировали данные.
