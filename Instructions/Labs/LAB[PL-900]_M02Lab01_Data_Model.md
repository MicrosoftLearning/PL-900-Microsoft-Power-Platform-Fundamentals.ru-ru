---
lab:
  title: "Задание\_1. Моделирование данных"
  module: 'Module 2: Introduction to Microsoft Dataverse'
---

# Задание 1. Моделирование данных

**Арендаторы WWL: условия использования.** Если вам предоставляется арендатор в рамках обучения под руководством инструктора, обратите внимание, что арендатор предоставляется для поддержки практических занятий в ходе такого обучения. Арендаторы не должны использоваться совместно или для целей, выходящих за рамки практических занятий. Клиент, используемый в этом курсе, является пробным клиентом, его нельзя использовать или получить к нему доступ после окончания курса, и он не подлежит продлению. Клиентов нельзя переводить на платную подписку. Арендаторы, полученные в рамках этого курса, остаются собственностью корпорации Майкрософт, мы оставляем за собой право получить доступ к ним и вернуть их в любое время. 

## Сценарий

Bellows College — образовательная организация с несколькими зданиями на территории кампуса. Посещения кампуса сейчас записывают в бумажные журналы. Информация не фиксируется последовательно, нет возможности, чтобы собрать и проанализировать данных о посещениях по всему кампусу.

Администрация кампуса хотела бы модернизировать систему регистрации посетителей таким образом, чтобы допуск в здания контролировали сотрудники службы безопасности, а обитатели кампуса предварительно регистрировали все визиты и обязательно записывали их.

На протяжении всего этого курса вы создадите приложения и выполните автоматизацию, чтобы позволить администрации Bellows College и сотрудникам службы безопасности контролировать доступ к зданиям на территории кампуса и управлять им.

В этом задании вы создадите модель данных для поддержки следующих требований:

- R1 — сведения об отслеживании запланированных визитов в кампус.

- R2 — запись основных сведений для идентификации и отслеживания посетителей.

- R3 — планирование, запись и управление визитами.

Наконец, вы импортируете примеры данных в Microsoft Dataverse.

Основные пошаговые действия для выполнения задания

Чтобы подготовить среды обучения, понадобится выполнить указанные ниже действия.

- Описание метаданных (таблиц и связей) см. в [документе модели данных](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/blob/master/Allfiles/Campus%20Management.png). Чтобы открыть документ модели данных в новом окне, можно щелкнуть ссылку левой кнопкой мыши, удерживая клавишу CTRL, или щелкнуть ее правой кнопкой мыши.
- Создание таблицы визитов
- Импорт данных таблицы визитов с помощью электронной таблицы Excel


## Необходимые компоненты

- Завершение модуля 1 Lab 0 — проверка лабораторной **среды**

Аспекты, которые следует учитывать перед началом работы

- Соглашения об именовании — тщательно введите имена.


# Упражнение 1. Создание таблицы

**Цель.** В этом упражнении вы создадите пользовательскую таблицу визитов.

## Задача 1. Создание таблицы визитов со столбцами

В таблицу **Визит** будет заноситься информация о посещениях кампуса, в том числе информация о посетителе, планируемое и фактическое время каждого визита.

Мы хотели бы назначить каждому визиту уникальный номер, который может легко ввести и интерпретировать посетитель в случае соответствующего запроса во время регистрации.

1.  Войдите в `https://make.powerapps.com` (если вход еще не выполнен)

1.  **В меню "Среда"** в правом верхнем углу убедитесь, что **выбрана среда Dev One**. 

1.  На панели навигации слева выберите **Таблицы**.

1.  Выберите **+ Создать таблицу** и **Задать дополнительные свойства**. 

1.  В поле **Отображаемое имя** введите `Visit`

1.  Выберите **Сохранить**. 

1.  В разделе **Схема** выберите **Столбцы**. 


## Создайте столбец для планируемого начала визита.

1.  Выберите **+ Создать столбец**. 

1.  Введите `Scheduled Start` в качестве **отображаемого имени**. 

1.  В поле **Тип данных** выберите **Дата и время**. 

1.  Измените значение **Обязательно** на **Обязательно для бизнеса**. 

1.  Разверните раздел **Расширенные параметры**. 

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**. 

    > **Примечание.** При записи даты и времени мы будем использовать поведение **Независимо от часового пояса**, поскольку время визита всегда будет зависеть от расположения здания и не будет меняться при просмотре из другого часового пояса. 

1.  Выберите **Сохранить**. 


## Создание столбца «Запланированное окончание»

1.  Выберите **+ Создать столбец**. 

1.  Введите `Scheduled End` в качестве **отображаемого имени**.

1.  В поле **Тип данных** выберите **Дата и время**.

1.  В поле **Обязательно** выберите **Требуется для бизнеса**.

1.  Разверните раздел **Расширенные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**.

1.  Выберите **Сохранить**. 


## Создание столбца «Фактическое начало»

1.  Выберите **+ Создать столбец**. 

1.  Введите `Actual Start` в качестве **отображаемого имени**.

1.  В поле **Тип данных** выберите **Дата и время**.

1.  В поле **Обязательно** оставьте значение **Необязательно**.

1.  Разверните раздел **Расширенные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**. 

1.  Выберите **Сохранить**. 


## Создание столбца «Фактическое окончание»

1.  Выберите **+ Создать столбец**.

1.  Введите `Actual End` в качестве **отображаемого имени**.

1.  В поле **Тип данных** выберите **Дата и время**.

1.  В поле **Обязательно** оставьте значение **Необязательно**.

1.  Разверните раздел **Расширенные параметры**.

1.  В поле **Корректировка часового пояса** выберите **Независимо от часового пояса**.

1.  Выберите **Сохранить**.


## Создание столбца «Код»

1.  Выберите **+ Создать столбец**.

1.  Введите `Code` в качестве **отображаемого имени**.

1.  В поле **Тип данных** выберите **Счетчик**.

1.  Выберите значение **Число с префиксом даты** для параметра **Тип автонумерации**.

1.  Выберите **Сохранить**. 


## Создание столбца подстановки «Посетитель»

1.  Выберите **+ Создать столбец**.

1.  Введите `Visitor` в качестве **отображаемого имени**.

1.  Выберите значение **Подстановка** > **Подстановка** для параметра **Тип данных**. 

1.  Выберите значение **Контакт** для параметра **Связанная таблица**. 

1.  Разверните раздел **Расширенные параметры**. 

1.  Введите `visitor_id` в качестве **имени связи**. 

1.  Выберите **Сохранить**.


# Упражнение 2. Импорт данных

**Цель.** В этом упражнении вы импортируете примеры данных в базу данных Dataverse.

## Задача \#1. Загрузка файла Excel в OneDrive

1.  На виртуальной машине в расположении **C:/LabFiles** у вас должен быть файл **Visits.xlsx**. Скачайте файл [Visits.xlsx](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/raw/master/Allfiles/Visits.xlsx), если он отсутствует.

2.  Если вход еще не выполнен, войдите в систему. `https://make.powerapps.com`

3.  **Выберите среду Dev One** в правом верхнем углу, если она еще не выбрана.

4.  Выберите средство запуска приложений (кнопка Waffle) в левом верхнем углу, чтобы изменить приложения и выбрать **OneDrive**. (Настройка OneDrive может занять некоторое время. Щелкните **Вы можете приступить к работе с OneDrive**, когда увидите этот текст на экране.)

5.  Нажмите **+ Добавить** в меню, а затем выберите **Отправка файлов**.

6.  Найдите и выберите файл **Visits.xlsx** и нажмите кнопку **Открыть**.

    > **Примечание.** Файл должен находиться в папке **Рабочий стол** > **Все файлы** на виртуальной машине.


## Задание \#2. Создание потока данных

1.  Войдите в `https://make.powerapps.com` (если вход еще не выполнен)

2.  **В меню "Среда"** в правом верхнем углу убедитесь, что **выбрана среда Dev One**. 

3.  На панели навигации слева выберите **Таблицы**. 

4.  Откройте таблицу **Визит**, созданную в предыдущем упражнении. 

5.  В меню в верхней части экрана выберите **Импорт** > **Импорт данных**.

6.  В диалоговом окне **Выбор источника данных** выберите **Книга Excel**.

7.  Выберите параметр **Связать с файлом**. Выберите **Обзор OneDrive**. При появлении запроса войдите с помощью учетных данных Microsoft 365. Настройте браузер так, чтобы он всегда разрешал всплывающие окна. 

8.  Выберите файл **Visits.xlsx**, который был отправлен в OneDrive в предыдущем задании. 

9.  Выберите **Далее**. 

10. На экране **Power Query** > **Выбор данных** проверьте книгу Excel **Визиты**. 

11. Выберите **Далее**. Не уходите с этой страницы.

12. Выберите **Далее**. 

13. В разделе **Сопоставление таблиц** выберите **Загрузить в существующую таблицу** в разделе **Параметры загрузки**. 

14. В раскрывающемся меню **Целевая таблица** выберите таблицу **crXXX_Visit** (где XXX — случайный набор букв и цифр)

15. В разделе **Сопоставление столбцов** сопоставьте столбцы с соответствующими целевыми столбцами.

    | Целевые столбцы  | Исходные значения   |
    |:---------------------|:----------------|
    | crxxx_ActualEnd      | actual end      |
    | crxxx_ActualStart    | actual start    |
    | crxxx_Code           | кодом            |
    | crxxx_Name           | name            |
    | crxxx_ScheduledEnd   | scheduled end   |
    | crxxx_ScheduledStart | scheduled start |

16. Выберите **Далее**. 

17. Выберите **Обновить вручную**. 

18. Выберите **Опубликовать**. 

    > **Примечание.** Импорт данных в таблицу может занять несколько минут. Не беспокойтесь, если появится несколько ошибок, это нормально и не повлияет на остальную часть курса.


## Задача \#3. Проверка импорта данных

1.  После импорта данных используйте панель навигации в левой части экрана, чтобы выбрать **Таблицы** и открыть таблицу **Визит**.

2.  Убедитесь, что в разделе **Столбцы и данные посещений** отображаются импортированные данные.

Поздравляем, вы успешно создали таблицу и импортировали данные.


